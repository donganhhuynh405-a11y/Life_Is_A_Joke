# =============================================================================
# Trading Bot – Secure Environment Template
# =============================================================================
# Copy this file to .env and fill in the values for your environment.
# NEVER commit .env to version control.
# All values below are placeholders – replace them with real secrets from
# your secrets manager (e.g. HashiCorp Vault, AWS Secrets Manager).
# =============================================================================

# -----------------------------------------------------------------------------
# Exchange API credentials
# -----------------------------------------------------------------------------
BYBIT_API_KEY=<your_bybit_api_key>
BYBIT_API_SECRET=<your_bybit_api_secret>
BYBIT_TESTNET=false

BINANCE_API_KEY=<your_binance_api_key>
BINANCE_API_SECRET=<your_binance_api_secret>

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://<user>:<password>@<host>:5432/<dbname>
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_URL=redis://:<password>@<host>:6379/0
REDIS_PASSWORD=<your_redis_password>

# -----------------------------------------------------------------------------
# Security – JWT & Encryption
# -----------------------------------------------------------------------------
# Generate with: python -c "import secrets, base64; print(base64.urlsafe_b64encode(secrets.token_bytes(32)).decode())"
JWT_SECRET_KEY=<generate_a_32_byte_random_key>

# Generate with: python -c "from src.security.encryption import EncryptionManager; _, k = EncryptionManager.generate_key(); print(k)"
ENCRYPTION_KEY_B64=<generate_a_32_byte_base64_encoded_key>

# -----------------------------------------------------------------------------
# HashiCorp Vault
# -----------------------------------------------------------------------------
VAULT_ADDR=http://vault:8200
VAULT_TOKEN=<your_vault_token>
VAULT_NAMESPACE=

# -----------------------------------------------------------------------------
# Observability
# -----------------------------------------------------------------------------
# Prometheus metrics exposition port
METRICS_PORT=8000

# OpenTelemetry OTLP endpoint (e.g. http://tempo:4317)
OTEL_EXPORTER_OTLP_ENDPOINT=http://tempo:4317
OTEL_SERVICE_NAME=trading-bot

# Loki push URL for log shipping
LOKI_URL=http://loki:3100

# Audit log file path
AUDIT_LOG_FILE=/var/log/trading-bot/audit.log

# Application log level: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# Emit JSON-formatted logs (true/false)
LOG_JSON=true

# -----------------------------------------------------------------------------
# Telegram notifications (optional)
# -----------------------------------------------------------------------------
TELEGRAM_BOT_TOKEN=<your_telegram_bot_token>
TELEGRAM_CHAT_ID=<your_telegram_chat_id>

# -----------------------------------------------------------------------------
# Trading parameters
# -----------------------------------------------------------------------------
TRADING_SYMBOLS=BTCUSDT,ETHUSDT
TRADING_INTERVAL=5m
MAX_POSITION_SIZE_USD=1000
RISK_PER_TRADE_PCT=1.0
MAX_DRAWDOWN_PCT=10.0
LEVERAGE=1

# -----------------------------------------------------------------------------
# ML model settings
# -----------------------------------------------------------------------------
MODEL_REGISTRY_PATH=/models
ML_BATCH_SIZE=32
ML_INFERENCE_TIMEOUT_SECONDS=5

# -----------------------------------------------------------------------------
# Rate limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_ORDERS_PER_SECOND=2
RATE_LIMIT_API_REQUESTS_PER_SECOND=10

# -----------------------------------------------------------------------------
# Celery / task queue
# -----------------------------------------------------------------------------
CELERY_BROKER_URL=redis://:<password>@<host>:6379/1
CELERY_RESULT_BACKEND=redis://:<password>@<host>:6379/2
